---
import AnimatedLink from "./AnimatedLink.astro";
import { SubscribeButton } from "@/components/ui/subscribe-button";
import { Section } from "@/components/ui/section";
import { getFooterRoutes, getSocialLinks } from "../lib/routes";

const today = new Date();

// Get routes automatically
const footerRoutes = getFooterRoutes();
const socialLinks = getSocialLinks();
---

<footer class="bg-background text-white h-[40vh] w-full">
  <Section variant="dark" size="md">
    <div class="container mx-auto h-full flex flex-col justify-between">
      <div
        class="grid grid-cols-1 lg:grid-cols-2 place-items-center
        h-full
        text-4xl
        lg:gap-8
        px-4 py-12"
      >
        <div class="lg:justify-self-end">
          <div class="h-20 color-sky-400">
            <h1 class="text-white text-2xl mb-1 font-syne">
              Learn efficient R development
            </h1>
            <SubscribeButton />
          </div>
        </div>
        <div class="lg:justify-self-start">
          <div class="flex flex-row gap-10">
            <!-- Main Routes -->
            <ul class="list-none text-sky-200 space-y-4">
              {
                footerRoutes.map((route) => (
                  <li class="transition-colors hover:text-white">
                    <a href={route.path}>{route.label}</a>
                  </li>
                ))
              }
            </ul>

            <!-- Social Links -->
            <ul class="list-none text-sky-200 space-y-4">
              {
                socialLinks.map((link) => (
                  <li class="transition-colors hover:text-white">
                    <AnimatedLink href={link.path} target="_blank">
                      {link.label}
                    </AnimatedLink>
                  </li>
                ))
              }
            </ul>
          </div>
        </div>
      </div>
      <div class="text-center text-base text-sky-200 mt-auto">
        &copy; {today.getFullYear()} Jakub Sobolewski. All rights reserved.
      </div>
    </div>
  </Section>
</footer>
