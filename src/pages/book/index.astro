---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { Section } from "@/components/ui/section";
import { Animate } from "@/components/ui/animate";
import { Ban, CircleArrowLeft } from "lucide-react";

const title = "Automated Testing in R Book";
const description =
  "Learn how to write automated tests for your R code. This book provides a comprehensive guide to testing in R.";
---

<BaseLayout title={title} description={description}>
  <Section id="hero" variant="dark" size="full">
    <div
      class="container mx-auto h-full flex flex-col justify-center items-center text-center"
    >
      <Animate variant="header">
        <h1
          class="text-white text-6xl uppercase py-4 flex flex-wrap justify-center items-center gap-4"
        >
          <span>Automated</span>
          <span>Testing</span>
          <span>in</span>
          <span class="font-serif italic text-ocean-green-100">R</span>
          <span>Book</span>
        </h1>
      </Animate>
      <Animate variant="header" className="motion-delay-[400ms]">
        <h2 class="text-sky-200 text-2xl mb-8">
          Join the waitlist to get notified when the book is available
        </h2>
      </Animate>
      <Animate variant="fadeIn" className="motion-delay-[1000ms]" />
      <style is:global>
        @import url("https://assets.mlcdn.com/fonts.css?version=1753253");

        /* Essential styles for MailerLite form functionality */
        .ml-form-embedSubmitLoad {
          display: inline-block;
          width: 20px;
          height: 20px;
        }

        .ml-form-embedSubmitLoad:after {
          content: " ";
          display: block;
          width: 11px;
          height: 11px;
          margin: 1px;
          border-radius: 50%;
          border: 4px solid #fff;
          border-color: #ffffff #ffffff #ffffff transparent;
          animation: ml-form-embedSubmitLoad 1.2s linear infinite;
        }

        @keyframes ml-form-embedSubmitLoad {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        /* Error states styling - required for JS validation */
        .ml-error input {
          border-color: red !important;
        }

        .ml-error .label-description,
        .ml-error label:first-child {
          color: #ff0000 !important;
        }

        /* These classes are required for JS functionality */
        .ml-form-embedSubmit button.loading {
          display: none;
        }

        /* Form state visibility control */
        .ml-form-successBody {
          display: none;
        }
      </style>

      <div
        id="mlb2-28774084"
        class="ml-form-embedContainer ml-subscribe-form ml-subscribe-form-28774084 w-full max-w-md mx-auto"
      >
        <div class="text-center">
          <div class="ml-form-embedWrapper embedForm">
            <div class="ml-form-embedBody ml-form-embedBodyDefault row-form">
              <form
                class="ml-block-form w-full grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-4"
                action="https://assets.mailerlite.com/jsonp/1677606/forms/160795229348169271/subscribe"
                data-code=""
                method="post"
                target="_blank"
              >
                <div class="w-full">
                  <div
                    class="ml-field-group ml-field-email ml-validate-email ml-validate-required"
                  >
                    <input
                      aria-label="email"
                      aria-required="true"
                      type="email"
                      class="w-full px-4 py-3 border border-gray-300 rounded-md text-gray-800 bg-white focus:outline-none focus:ring-2 focus:ring-ocean-green-500 focus:border-ocean-green-500"
                      name="fields[email]"
                      placeholder="Email"
                      autocomplete="email"
                    />
                  </div>
                </div>
                <input type="hidden" name="ml-submit" value="1" />
                <div class="ml-form-embedSubmit">
                  <button
                    type="submit"
                    class="w-full py-3 px-4 border border-ocean-green-500 bg-ocean-green-500 hover:bg-ocean-green-600 text-white font-semibold rounded-md transition duration-200"
                  >
                    Join waitlist
                  </button>
                  <button
                    disabled
                    style="display: none;"
                    type="button"
                    class="loading w-full py-3 px-4 bg-gray-400 text-white font-semibold rounded-md"
                  >
                    <div class="ml-form-embedSubmitLoad"></div>
                    <span class="sr-only">Loading...</span>
                  </button>
                </div>
                <input type="hidden" name="anticsrf" value="true" />
              </form>
            </div>
            <div class="ml-form-successBody row-success text-white p-6">
              <div class="text-center">
                <h4 class="text-2xl font-bold mb-3">Thank you!</h4>
                <p class="text-lg">
                  You have successfully joined the waitlist.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <script is:inline>
        function ml_webform_success_28774084() {
          var $ = ml_jQuery || jQuery;
          $(".ml-subscribe-form-28774084 .row-success").show();
          $(".ml-subscribe-form-28774084 .row-form").hide();
        }
      </script>

      <script
        src="https://groot.mailerlite.com/js/w/webforms.min.js?v176e10baa5e7ed80d35ae235be3d5024"
        type="text/javascript"></script>
      <script>
        fetch(
          "https://assets.mailerlite.com/jsonp/1677606/forms/160795229348169271/takel"
        );
      </script>
    </div>
  </Section>
</BaseLayout>
